<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="./simplepicker-master/dist/simplepicker.css">
  <title>Choose Your Drink!</title>

  <style>
    .event-log {
      font-family: consolas, Monaco, monospace;
      margin: 10px 5px;
      line-height: 2;
      border: 1px solid #4c4c4c;
      height: auto;
      width: 90%;
      padding: 2px 6px;
      color: #4c4c4c;
      white-space: pre;
    }
  </style>
</head>
<body>

  <!-- Date/Time Picker-->
  <button class="simplepicker-btn">Pick Your Party Date & Time</button>
  <div class="event-log">Date & Time of Party:<br></div>

<!-- Drink Select Box -->
<form id="drink-form">

  <!-- Label for Text Box -->
  <label for="drink-input">Choose Your Drink</label>

  <!-- Text Input Box -->
  <input type="text" id="drink-input"><br>

  <!-- Submit Button -->
  <input id="select-drink" type="submit" value="GO!">
</form>

<!-- Drink Information -->
<div id="drink-div"></div>

  <!-- Ingredient Select Box -->
  <form id="ingredient-form">

    <!-- Label for Text Box -->
    <label for="ingredient-input">Choose Your Ingredient</label>

    <!-- Text Input Box -->
    <input type="text" id="ingredient-input"><br>

    <!-- Submit Button -->
    <input id="select-ingredient" type="submit" value="GO!">
  </form>

  <!-- Drink Information -->
  <div id="ingredient-div"></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="./simplepicker-master/dist/simplepicker.js"></script>
  <script>

//require('dotenv').config()

 //Date & Time Picker
 let simplepicker = new SimplePicker({
      zIndex: 10
    });

    //I commented this line out otherwise the picker opens as soon as the page loads. Kind of annoying.
    //simplepicker.open();

    const $button = document.querySelector('button');
    const $eventLog = document.querySelector('.event-log');
    $button.addEventListener('click', (e) => {
      simplepicker.open();
    });

    // $eventLog.innerHTML += '\n\n';
    simplepicker.on('submit', (date, readableDate) => {
      $eventLog.innerHTML += readableDate + '\n';
    });

    simplepicker.on('close', (date) => {
      $eventLog.innerHTML += 'Picker Closed'  + '\n';
    });

//Searching Cocktail Database 
function searchCocktailDB(drink) {
     // process.env.API_COCKTAIL
    // Querying the Cocktail DB api for the selected drink, the ?app_id parameter is required, but can equal anything
    var queryURL = "https://www.thecocktaildb.com/api/json/v2/9973533/search.php?s=" + drink;
    $.ajax({
      url: queryURL,
      method: "GET"
    }).then(function(response) {

         // Printing the entire object to console
      console.log('A', response);
      console.log('B', response.drinks.length)
      // Constructing HTML containing the drink information
      for(i=0; i<response.drinks.length; i++){
        console.log('C', i);
        
        var drinkName = $("<h1>").text(response.drinks[i]['strDrink']);
          let ingredientString = ''
        
        if (response.drinks[i]['strMeasure1'] + response.drinks[i]['strIngredient1']) {
          ingredientString += response.drinks[i]['strMeasure1'] += response.drinks[i]['strIngredient1']
        }
        
        if (response.drinks[i]['strMeasure2'] + response.drinks[i]['strIngredient2']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure2'] + response.drinks[i]['strIngredient2']
        }
        
        if (response.drinks[i]['strMeasure3'] + response.drinks[i]['strIngredient3']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure3'] + response.drinks[i]['strIngredient3']
         }
        
        if (response.drinks[i]['strMeasure4'] + response.drinks[i]['strIngredient4']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure4'] + response.drinks[i]['strIngredient4']
        }
        
        if (response.drinks[i]['strMeasure5'] + response.drinks[i]['strIngredient5']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure5'] + response.drinks[i]['strIngredient5']
        }

        if (response.drinks[i]['strMeasure6'] + response.drinks[i]['strIngredient6']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure6'] + response.drinks[i]['strIngredient6']
        }

        if (response.drinks[i]['strMeasure7'] + response.drinks[i]['strIngredient7']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure7'] + response.drinks[i]['strIngredient7']
        }

        if (response.drinks[i]['strMeasure8'] + response.drinks[i]['strIngredient8']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure8'] + response.drinks[i]['strIngredient8']
        }

        if (response.drinks[i]['strMeasure9'] + response.drinks[i]['strIngredient9']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure9'] + response.drinks[i]['strIngredient9']
        }

        if (response.drinks[i]['strMeasure10'] + response.drinks[i]['strIngredient10']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure10'] + response.drinks[i]['strIngredient10']
        }

        if (response.drinks[i]['strMeasure11'] + response.drinks[i]['strIngredient11']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure11'] + response.drinks[i]['strIngredient11']
        }

        if (response.drinks[i]['strMeasure12'] + response.drinks[i]['strIngredient12']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure12'] + response.drinks[i]['strIngredient12']
        }

        if (response.drinks[i]['strMeasure13'] + response.drinks[i]['strIngredient13']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure13'] + response.drinks[i]['strIngredient13']
        }

        if (response.drinks[i]['strMeasure14'] + response.drinks[i]['strIngredient14']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure14'] + response.drinks[i]['strIngredient14']
        }

        if (response.drinks[i]['strMeasure15'] + response.drinks[i]['strIngredient15']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure15'] + response.drinks[i]['strIngredient15']
       }
        var ingredients = $("<h2>").text(ingredientString)
        var directions = $("<h2>").text(response.drinks[i]['strInstructions']);
        var drinkImage = $("<img>").attr("src", response.drinks[i]['strDrinkThumb']);
          
        // Empty the contents of the drink-div, append the new drink content
        //$("#drink-div").empty();
        $("#drink-div").append(drinkName, ingredients, directions, drinkImage); 
      }
    });
  }

  // Event handler for user clicking the select-drink button
  $("#select-drink").on("click", function(event) {
    // Preventing the button from trying to submit the form
    event.preventDefault();
    // Storing the drink name
    var inputDrink = $("#drink-input").val().trim();

    // Running the searchCocktailDB function(passing in the artist as an argument)
    searchCocktailDB(inputDrink);
  });

  function searchCocktailDBByIngredient(ingredient) {
// process.env.API_COCKTAIL
// Querying the Cocktail DB api for the selected drink, the ?app_id parameter is required, but can equal anything
var queryURL = "https://www.thecocktaildb.com/api/json/v2/9973533/search.php?s=" + ingredient;
$.ajax({
  url: queryURL,
  method: "GET"
}).then(function(response) {

        // Printing the entire object to console
        console.log('A', response);
      console.log('B', response.drinks.length)
      // Constructing HTML containing the drink information
      for(i=0; i<response.drinks.length; i++){
        console.log('C', i);
        var drinkName = $("<h1>").text(response.drinks[i]['strDrink']);
        let ingredientString = ''
        
        if (response.drinks[i]['strMeasure1'] + response.drinks[i]['strIngredient1']) {
          ingredientString += response.drinks[i]['strMeasure1'] += response.drinks[i]['strIngredient1']
        }
        
        if (response.drinks[i]['strMeasure2'] + response.drinks[i]['strIngredient2']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure2'] + response.drinks[i]['strIngredient2']
        }
        
        if (response.drinks[i]['strMeasure3'] + response.drinks[i]['strIngredient3']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure3'] + response.drinks[i]['strIngredient3']
         }
        
        if (response.drinks[i]['strMeasure4'] + response.drinks[i]['strIngredient4']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure4'] + response.drinks[i]['strIngredient4']
        }
        
        if (response.drinks[i]['strMeasure5'] + response.drinks[i]['strIngredient5']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure5'] + response.drinks[i]['strIngredient5']
        }

        if (response.drinks[i]['strMeasure6'] + response.drinks[i]['strIngredient6']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure6'] + response.drinks[i]['strIngredient6']
        }

        if (response.drinks[i]['strMeasure7'] + response.drinks[i]['strIngredient7']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure7'] + response.drinks[i]['strIngredient7']
        }

        if (response.drinks[i]['strMeasure8'] + response.drinks[i]['strIngredient8']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure8'] + response.drinks[i]['strIngredient8']
        }

        if (response.drinks[i]['strMeasure9'] + response.drinks[i]['strIngredient9']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure9'] + response.drinks[i]['strIngredient9']
        }

        if (response.drinks[i]['strMeasure10'] + response.drinks[i]['strIngredient10']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure10'] + response.drinks[i]['strIngredient10']
        }

        if (response.drinks[i]['strMeasure11'] + response.drinks[i]['strIngredient11']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure11'] + response.drinks[i]['strIngredient11']
        }

        if (response.drinks[i]['strMeasure12'] + response.drinks[i]['strIngredient12']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure12'] + response.drinks[i]['strIngredient12']
        }

        if (response.drinks[i]['strMeasure13'] + response.drinks[i]['strIngredient13']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure13'] + response.drinks[i]['strIngredient13']
        }

        if (response.drinks[i]['strMeasure14'] + response.drinks[i]['strIngredient14']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure14'] + response.drinks[i]['strIngredient14']
        }

        if (response.drinks[i]['strMeasure15'] + response.drinks[i]['strIngredient15']) {
          ingredientString += ', ' + response.drinks[i]['strMeasure15'] + response.drinks[i]['strIngredient15']
       }
       
        
        var ingredients = $("<h2>").text(ingredientString)
        var directions = $("<h2>").text(response.drinks[i]['strInstructions']);
        var drinkImage = $("<img>").attr("src", response.drinks[i]['strDrinkThumb']);
          
        // Empty the contents of the drink-div, append the new drink content
        //$("#drink-div").empty();
        $("#drink-div").append(drinkName, ingredients, directions, drinkImage); 
      }
    });
  }

  // Event handler for user clicking the select-drink button
  $("#select-ingredient").on("click", function(event) {
    // Preventing the button from trying to submit the form
    event.preventDefault();
    // Storing the drink name
    var inputIngredient = $("#ingredient-input").val().trim();

    // Running the searchCocktailDB function(passing in the artist as an argument)
    searchCocktailDBByIngredient(inputIngredient);
  });

//Block for Link to Invitation
var leftDiv = document.createElement("div"); 
leftDiv.id = "left"; //Assign div id
leftDiv.setAttribute("style", "float:left; width:66.5%; line-height: 26px; text-align:left; font-size:12pt; padding-left:8px; height:26px;"); //Set div attributes
leftDiv.style.background =  "#FF0000";
a = document.createElement('a');
a.href =  'https://google.com';  
a.innerHTML = "Link" 
leftDiv.appendChild(a); 
document.body.appendChild(leftDiv);

 
     
  </script>
</body>
</html>
